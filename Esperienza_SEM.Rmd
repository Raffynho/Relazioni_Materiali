---
title: "Esperienza di Laboratorio: SEM"
short_title: "Composizione di un campione"
#logo: "unitn_logo.pdf"
#logo_height: "1.2cm"
author: "Tommaso Raffaelli"
date: "`r Sys.Date()`"
company: "Dipartimento di Ingegneria Industriale - Corso di Scienze dei Materiali"
output: memor::pdf_memo
classoption: a4paper
number_sections: true
libertine: false
toc: true
lof: true
lot: false
header-includes: #\usepackage[italian]{babel}
---

```{r setup, echo=F, include=F}
# Caricamento librerie
library(knitr)
library(kableExtra)
library(tidyverse)
library(modelr)
library(purrr)
library(patchwork)
#library(paletteer)

# Impostazioni output
knitr::opts_chunk$set(
	fig.align  = "center",      # allineamento figure
	fig.dim    = c(5, 3) * 1.2, # rapporto larghezza/altezza e fattore di scala
	out.height = "2.8in",       # altezza effettiva figure
	message    = FALSE,         # sopprimi messaggi
	warning    = FALSE,         # sopprimi warning
	echo       = TRUE,          # mostra i codice dei chunk
	include    = TRUE,          # mostra l'output dei chunk
	tidy       = TRUE,          # formatta il codice dei chunk
  tidy.opts  = list(width.cutoff=I(75)) # massima larghezza codice nei chunk
)
```

```{r img_tuttocampo, echo=FALSE, fig.cap="Immagine a tutto campo", out.width = '90%'}
img_tutto_campo <- knitr::include_graphics("immagini_sem/AM_full_frame_BED-C_1_0001.jpg")
```

```{r img_fase1, echo=FALSE, fig.cap="Immagine campione 1", out.width = '90%'}
img_fase1 <- knitr::include_graphics("immagini_sem/AM_BED-C_1_0008.jpg")
```

```{r img_fase2, echo=FALSE, fig.cap="Immagine campione2", out.width = '90%'}
img_fase2 <- knitr::include_graphics("immagini_sem/AM_BED-C_1_0008.jpg")
```

\newpage

# Introduzione

Il presente report descrive l'analisi condotta su un campione ignoto mediante l'uso del microscopio elettronico a scansione (SEM, Scanning Electron Microscope). Questo strumento, grazie alla sua capacità di produrre immagini ad alta risoluzione e di effettuare analisi elementari tramite spettroscopia a dispersione di energia (EDS, Energy Dispersive Spectroscopy), si è rivelato fondamentale per determinare la morfologia superficiale e la composizione chimica del campione.

Lo studio è stato finalizzato all'identificazione delle caratteristiche strutturali e chimiche del materiale, con l'obiettivo di comprendere la sua natura e le sue potenziali applicazioni. Durante l’esperimento, il campione è stato preparato adeguatamente per garantire un’osservazione ottimale, rispettando le condizioni necessarie per il funzionamento del SEM (ad esempio, la conduzione elettrica della superficie). Sono stati acquisiti dati relativi sia alla topografia che alla distribuzione degli elementi chimici presenti nel materiale analizzato.

L'uso del SEM e dell'EDS rappresenta una metodologia consolidata per questo tipo di indagini, grazie alla combinazione di elevata capacità di ingrandimento e sensibilità chimica. I risultati ottenuti sono stati interpretati per caratterizzare il campione in termini di composizione, individuando eventuali impurità, fasi o particelle estranee, e fornire indicazioni sulle sue proprietà funzionali.

# Materiali e tecniche sperimentali

Il microscopio elettronico a scansione (SEM) utilizza un fascio di elettroni focalizzato per scansionare la superficie di un campione e ottenere immagini dettagliate della sua morfologia e composizione. Gli elettroni vengono emessi da una sorgente (come un filamento di tungsteno o una sorgente a emissione di campo), accelerati da un campo elettrico e focalizzati mediante una serie di lenti elettromagnetiche. Durante l'interazione con il campione, il fascio genera diversi segnali, tra cui elettroni secondari (SE), elettroni retro-diffusi (backscattered, BSE).

Gli elettroni backscattered (BSE) sono particolarmente utili per ottenere informazioni sulla composizione chimica e sulle variazioni di densità del campione. Questi elettroni derivano dalla riflessione elastica del fascio incidente sul campione e la loro intensità dipende fortemente dal numero atomico (Z) degli elementi presenti.

**Rivedere con le slide** In particolare: \* Gli atomi con numero atomico più elevato riflettono una maggiore quantità di elettroni backscattered, apparendo più brillanti nell'immagine. \* Gli atomi con numero atomico più basso riflettono meno elettroni, risultando quindi più scuri.

Questa dipendenza consente di creare un'immagine a contrasto compositivo, utile per identificare la distribuzione di elementi pesanti e leggeri all'interno del campione. Inoltre, combinando i dati BSE con quelli ottenuti dalla spettroscopia EDS, è possibile correlare il contrasto compositivo alle concentrazioni elementari specifiche.

Gli elettroni BSE forniscono dunque un'informazione complementare a quella degli elettroni secondari, che invece evidenziano la topografia superficiale, rendendo il SEM uno strumento versatile per lo studio di materiali eterogenei.

# Dati ottenuti

I dati ottenuti dal SEM sono

-   Spettro
-   Tabella dati

## Conposizione generale

Per riuscire ad identificare la composizione generale del campione sono state fatte tre misure su aree diverse in modo che facendo la media delle misurazioni abbiamo una buona idea sulla composizione di tutto il campione.

```{r echo=FALSE}
img_tutto_campo
```

```{r echo=FALSE}
Dati_tot <- read_csv("Dati_tot.csv")
kable(Dati_tot[1:7,], booktabs=T, caption="Campionamento generale") %>%
  kable_styling(latex_options = c("striped", "HOLD_position"), position = "center")
```

All'interno della tabella possiamo trovare i dati ricavati in particolare ci concentriamo su le colonne: **Element**, **Mass_Norm** e **Campione**. Facendo un grafico a barre possiamo visualizzare come sono distribuite le quantità degli elementi all'interno delle tre aree

```{r echo=FALSE}
tab_mean <- Dati_tot %>% 
  group_by(Element) %>% 
  mutate(
    Mean = mean(Mass_Norm) %>% round(digits=2),
    .before  = Campione
  )

tab_mean %>% 
  group_by(Element) %>% 
  select(Element, Mean) %>% 
  unique() %>% 
  kable(booktabs=T, caption="Campionamento generale") %>%
  kable_styling(latex_options = c("striped", "HOLD_position"), position = "center")
```

```{r echo=FALSE}
tab_mean %>% 
  ggplot(aes(x=Element, y=Mass_Norm, fill=as.character(Campione))) + 
  geom_col(position="dodge") +
  labs(x="Elemento", y="Massa normalizzata (%)", fill="Campione") +
  scale_fill_viridis_d()
```

```{r echo=FALSE}
tab_mean %>% 
  group_by(Element) %>% 
  select(Element, Mean) %>% 
  unique() %>% 
  ggplot(aes(x=Element, y=Mean)) + 
  geom_col() +
  scale_fill_viridis_d() +
  labs(x="Elemento", y="Massa media")
```

## Struttura delle fasi

Come per la composizione generale anche per capire la struttura delle fasi distinte sono state fette tre misurazioni su tre aree diverse del campione in modo da eliminare la casualità della composizione

```{r echo=FALSE}
fase_chiara <- read.csv("Dati_fase_chiara.csv")
fase_scura <- read.csv("Dati_fase_scura.csv")

fase_chiara %>% 
  head(7) %>% 
  kable(booktabs=T, caption="Campionamento fase chiara") %>%
  kable_styling(latex_options = c("striped", "HOLD_position"), position = "center")

fase_scura %>% 
  head(7) %>% 
  kable(booktabs=T, caption="Campionamento fase scura") %>%
  kable_styling(latex_options = c("striped", "HOLD_position"), position = "center")
```

```{r echo=FALSE}
fase_chiara <- fase_chiara %>% 
  group_by(Element) %>% 
  mutate(
    Mean = mean(Mass_Norm) %>% round(digits=2),
    .before  = Campione
  )

fase_scura <- fase_scura %>% 
  group_by(Element) %>% 
  mutate(
    Mean = mean(Mass_Norm) %>% round(digits=2),
    .before  = Campione
  )

mean_fase <- fase_chiara %>% 
  group_by(Element) %>% 
  select(Element, Mean) %>% 
  unique() %>% 
  left_join(
  fase_scura %>% group_by(Element) %>% select(Element, Mean) %>% unique(),
  by = join_by(Element)
  ) %>% 
  mutate(
    mean_chiara = Mean.x,
    mean_scura = Mean.y
  ) %>% 
  select(Element, mean_chiara, mean_scura)

mean_fase
```

```{r echo=FALSE}
p1 <- fase_chiara %>% 
  group_by(Element) %>% 
  select(Element, Mean) %>% 
  unique() %>% 
  ggplot(aes(x=Element, y=Mean)) + 
  geom_col() + 
  labs(x="Elemnto", y="Media", title="Media fase chiara")

p2 <- fase_scura %>% 
  group_by(Element) %>% 
  select(Element, Mean) %>% 
  unique() %>% 
  ggplot(aes(x=Element, y=Mean)) + 
  geom_col() + 
  labs(x="Elemnto", y="Media", title="Media fase scura")

p1 + p2
```

```{r}
mean_fase %>% 
  ggplot(aes(x=Element)) + 
  geom_col(aes(y=mean_chiara), position="dodge")
```

# Conclusioni

\newpage

```{r echo=FALSE}
Dati_tot %>% 
  kable(booktabs=T, caption="Campionamento a tutto campo tabella completa") %>%
  kable_styling(latex_options = c("striped", "HOLD_position"), position = "center")

fase_chiara %>% 
  kable(booktabs=T, caption="Campionamento fase chiara tabella completa") %>%
  kable_styling(latex_options = c("striped", "HOLD_position"), position = "center")

fase_scura %>% 
  kable(booktabs=T, caption="Campionamento fase scura tabella completa") %>%
  kable_styling(latex_options = c("striped", "HOLD_position"), position = "center")
```
